var urlize=function(){function t(e,t){return e.substr(0,t.length)==t}function n(e,t){return e.substr(e.length-t.length,t.length)==t}function r(e,t){var n=0;var r=0;while(true){r=e.indexOf(t,r);if(r!=-1){n++;r+=t.length}else{break}}return n}function s(e){var t=e.indexOf(":");e=e.substring(0,t).toLowerCase()+e.substring(t);if(e.indexOf("%")==-1||e.match(i)){return encodeURI(e)}else{return e}}function v(e,t){var n=e.replace(/&/g,"&").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");if(t&&!t.django_compatible){n=n.replace(/\//g,"&#47;")}return n}function m(e){return e.replace(/&/g,"&").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function g(e){var t;if(e.length==2&&typeof e[1]=="object"){t=e[1]}else{t={nofollow:e[1],autoescape:e[2],trim_url_limit:e[3],target:e[4]}}if(!("django_compatible"in t))t.django_compatible=true;return t}function y(i,y){function b(e,t){if(t===undefined)t=y.trim_url_limit;if(t&&e.length>t)return e.substr(0,t-3)+"...";return e}y=g(arguments);var w=false;var E=y.django_compatible?l:c;var S=y.django_compatible?o:u;var x=y.django_compatible?a:f;var T=e(i,E);for(var N=0;N<T.length;N++){var C=T[N];var k=undefined;if(C.indexOf(".")!=-1||C.indexOf("@")!=-1||C.indexOf(":")!=-1){var L="";var A=C;var O="";for(var M=0;M<S.length;M++){var _=S[M];if(n(A,_)){A=A.substr(0,A.length-_.length);O=_+O}}for(var M=0;M<x.length;M++){var D=x[M][0];var P=x[M][1];if(t(A,D)){A=A.substr(D.length);L=L+D}if(n(A,P)&&r(A,P)==r(A,D)+1){A=A.substr(0,A.length-P.length);O=P+O}}var H=undefined;var B=y.nofollow?' rel="nofollow"':"";var j=y.target?' target="'+y.target+'"':"";if(A.match(h))H=s(A);else if(A.match(p))H=s("http://"+A);else if(A.indexOf(":")==-1&&A.match(d)){H="mailto:"+A;B=""}if(H){var F=b(A);if(y.autoescape){L=v(L,y);O=v(O,y);H=m(H);F=v(F,y)}A='<a href="'+H+'"'+B+j+">"+F+"</a>";T[N]=L+A+O}else{if(w){}else if(y.autoescape){T[N]=v(C,y)}}}else if(w){}else if(y.autoescape){T[N]=v(C,y)}}return T.join("")}var e;e=e||function(e){var t=String.prototype.split,n=/()??/.exec("")[1]===e,r;r=function(r,i,s){if(Object.prototype.toString.call(i)!=="[object RegExp]"){return t.call(r,i,s)}var o=[],u=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),a=0,i=new RegExp(i.source,u+"g"),f,l,c,h;r+="";if(!n){f=new RegExp("^"+i.source+"$(?!\\s)",u)}s=s===e?-1>>>0:s>>>0;while(l=i.exec(r)){c=l.index+l[0].length;if(c>a){o.push(r.slice(a,l.index));if(!n&&l.length>1){l[0].replace(f,function(){for(var t=1;t<arguments.length-2;t++){if(arguments[t]===e){l[t]=e}}})}if(l.length>1&&l.index<r.length){Array.prototype.push.apply(o,l.slice(1))}h=l[0].length;a=c;if(o.length>=s){break}}if(i.lastIndex===l.index){i.lastIndex++}}if(a===r.length){if(h||!i.test("")){o.push("")}}else{o.push(r.slice(a))}return o.length>s?o.slice(0,s):o};return r}();var i=/%(?![0-9A-Fa-f]{2})/;var o=[".",",",":",";"];var u=[".",",",":",";",".)"];var a=[["(",")"],["<",">"],["&lt;","&gt;"]];var f=[["(",")"],["<",">"],["&lt;","&gt;"],["“","”"],["‘","’"]];var l=/(\s+)/;var c=/([\s<>"]+)/;var h=/^https?:\/\/\w/i;var p=/^www\.|^(?!http)\w[^@]+\.(com|edu|gov|int|mil|net|org)$/i;var d=/^\S+@\S+\.\S+$/;y.test={};y.test.split=e;y.test.convert_arguments=g;return y}()